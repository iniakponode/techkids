{% extends 'layout/base.html' %}

{% block title %}TechKids | Home{% endblock %}

{% block content %}

<!-- =======================
     MAIN CAROUSEL
======================= -->
<div id="mainCarousel" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <!-- Slide 1 -->
    <div class="carousel-item active">
      <img src="/static/images/hero3.png" class="d-block w-100" alt="Hero 1">
      <div class="carousel-caption position-absolute top-50 start-50 translate-middle text-center">
        <h2>Welcome to TechKids</h2>
        <p>Empowering the next generation with technology skills!</p>
        <a href="#courses" class="btn btn-primary mt-3 px-4 py-2">
            View Courses
          </a>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="carousel-item">
      <img src="/static/images/hero2.png" class="d-block w-100" alt="Hero 2">
      <div class="carousel-caption position-absolute top-50 start-50 translate-middle text-center">
        <h2>Learn at Your Pace</h2>
        <p>Online and in-person courses for all ages.</p>
        <a href="#about" class="btn btn-primary mt-3 px-4 py-2">
            About Us
          </a>
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="carousel-item">
      <img src="/static/images/hero1.png" class="d-block w-100" alt="Hero 3">
      <div class="carousel-caption position-absolute top-50 start-50 translate-middle text-center">
        <h2>Hands-On Experience</h2>
        <p>Interactive projects that spark creativity.</p>
        <a href="/contact-us" class="btn btn-primary mt-3 px-4 py-2">
            Contact Us
          </a>
      </div>
    </div>
  </div>

  <!-- Carousel Controls -->
  <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>


<!-- =======================
     ABOUT US
======================= -->
{% if not (request.query_params.get('search') or request.query_params.get('category') or request.query_params.get('age') or request.query_params.get('price_min') or request.query_params.get('price_max')) %}
<section id="about" class="py-5 about-section">
  <div class="container">
    <div class="row align-items-center">
      <!-- Optional About Image -->
      <div class="col-md-6 mb-4 mb-md-0">
        <img
          src="/static/images/aboutusimg.png"
          alt="About TechKids"
          class="img-fluid rounded"
        />
      </div>
      <div class="col-md-6">
        <h2 class="mb-4">About Us</h2>
        <p class="lead">
          At <strong>TechKids</strong>, we inspire young minds to explore the world
          of technology. Through hands-on learning experiences, interactive
          coding programs, and innovative STEM workshops, we empower children to
          think creatively, solve problems, and embrace the future.
        </p>
        <p>
          Our mission is to bridge the gap between education and technology by
          providing engaging courses that cater to students of all backgrounds.
          With support from expert educators and industry professionals, TechKids
          is dedicated to nurturing the next generation of innovators. Join us
          and help shape a future where technology meets limitless possibilities!
        </p>
        <a href="/registration" class="btn btn-primary mt-3">Start Learning</a>
      </div>
    </div>
  </div>
</section>
{% endif %}

<!-- =======================
     HERO COURSE
======================= -->
{% if hero_course %}
<section class="container py-5" id="hero-course">
  <div class="row align-items-center">
    <div class="col-md-6 mb-3 mb-md-0">
      <img src="{{ hero_course.image_url }}" class="img-fluid rounded" alt="{{ hero_course.title }}">
    </div>
    <div class="col-md-6">
      <h2 class="mb-3">{{ hero_course.title }}</h2>
      <p class="mb-3">{{ hero_course.summary }}</p>
      <a href="/registration?course={{ hero_course.id }}" class="btn btn-primary me-2">Register Now</a>
      <a href="/courses/{{ hero_course.id }}" class="btn btn-outline-primary">View Details</a>
    </div>
  </div>
</section>
{% endif %}


<!-- =======================
     OUR COURSES
======================= -->
<section class="course-list container py-5" id="courses">
  <div class="row">
    <div class="col-12 text-center mb-4">
      {% set filtering = request.query_params.get('search') or request.query_params.get('category') or request.query_params.get('age') or request.query_params.get('price_min') or request.query_params.get('price_max') %}
      {% if filtering %}
        <h2 class="text-dark">Available Courses Based on Your Filter</h2>
        {% if courses %}
          <p class="text-secondary">Great to see courses matching your selection. Please pick the one that caught your curiosity.</p>
        {% else %}
          <p class="text-secondary">Sorry, there were no courses matching your selection conditions. Try again using another condition through the filter.</p>
        {% endif %}
      {% else %}
        <h2 class="text-dark">Our Courses</h2>
        <p class="text-secondary">Pick a course that sparks your interest!</p>
      {% endif %}
    </div>
  </div>

  <div class="row mb-4">
    <div class="col-md-3" id="courseFilter">
      <p class="small text-muted">Use the filters below to find courses that match your interest.</p>
      <form method="get">
        <input type="text" class="form-control mb-2" name="search" placeholder="Search" value="{{ request.query_params.get('search','') }}">
        <input type="text" class="form-control mb-2" name="category" placeholder="Category" value="{{ request.query_params.get('category','') }}">
        <input type="text" class="form-control mb-2" name="age" placeholder="Age Group" value="{{ request.query_params.get('age','') }}">
        <input type="number" step="0.01" class="form-control mb-2" name="price_max" placeholder="Max Price" value="{{ request.query_params.get('price_max','') }}">
        <button class="btn btn-primary w-100" type="submit">Apply</button>
      </form>
    </div>
    <div class="col-md-9">
      <div class="row">
        {% for course in courses %}
          <div class="col-md-4 d-flex align-items-stretch mb-4">
            <div class="card h-100 d-flex flex-column shadow course-card">
              {% include 'partials/course_card.html' %}
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<!-- =======================
     TESTIMONIALS
======================= -->
<section id="testimonials" class="py-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-4">
        <h2>What Parents Say</h2>
      </div>
    </div>
    {% if testimonials %}
    <div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% for t in testimonials %}
        <div class="carousel-item {% if loop.index == 1 %}active{% endif %}">
          <blockquote class="blockquote text-center">
            <p class="mb-4">{{ t.content }}</p>
            <footer class="blockquote-footer">{{ t.name }}</footer>
          </blockquote>
        </div>
        {% endfor %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    {% else %}
      <p class="text-center">No testimonials yet.</p>
    {% endif %}
    <div class="text-center mt-4">
      <a href="/testimonial" class="btn btn-primary">Share Your Experience</a>
    </div>
  </div>
</section>

<!-- =======================
     CONTACT US
======================= -->
<section id="contact" class="py-5 contact-section">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-4">
        <h2>Contact Us</h2>
      </div>
      <div class="col-md-6 offset-md-3 text-center">
        <ul class="list-unstyled mb-3">
          <li class="mb-1">
            <i class="bi bi-telephone-fill me-2"></i>
            <a href="tel:+447733610338" class="contact-link">+44 7733 610338</a> |
            <a href="tel:+2347045598128" class="contact-link">+234 704 559 8128</a> |
            <a href="tel:+2348105961725" class="contact-link">+234 810 596 1725</a> |
            <a href="tel:+2347075778307" class="contact-link">+234 707 577 8307</a>
          </li>
          <li class="mb-1">
            <i class="bi bi-globe me-2"></i>
            <a href="https://Techkids.ungozu.com" target="_blank" class="contact-link">Techkids.ungozu.com</a>
          </li>
          <li>
            <i class="bi bi-envelope-fill me-2"></i>
            <a href="mailto:techkids@ungozu.com" class="contact-link">techkids@ungozu.com</a>
          </li>
        </ul>
        <div class="mb-3">
          <a href="https://facebook.com/techkids" target="_blank" class="text-white me-3"><i class="bi bi-facebook"></i></a>
          <a href="https://twitter.com/techkids" target="_blank" class="text-white me-3"><i class="bi bi-twitter"></i></a>
          <a href="https://instagram.com/techkids" target="_blank" class="text-white me-3"><i class="bi bi-instagram"></i></a>
          <a href="https://linkedin.com/company/techkids" target="_blank" class="text-white"><i class="bi bi-linkedin"></i></a>
        </div>
        <a href="mailto:techkids@ungozu.com" class="btn btn-light px-4 py-2">Send Us a Message</a>
      </div>
    </div>
  </div>
</section>

{% endblock %}
{% block extra_scripts %}
  {{ super() }}
  {% if filtering %}
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const resultsSection = document.getElementById('courses');
      if (resultsSection) {
        resultsSection.scrollIntoView({ behavior: 'smooth' });
      }
    });
  </script>
  {% endif %}
{% endblock %}
